<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Writing Blog Using Org-mode and Jekyll - 记往开来</title>
  <meta name="author" content="Xiao Liu">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://xiaoliuai.github.io/blog/2014-10-27-writing-blog-using-org-mode-and-jekyll.html">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="记往开来" type="application/atom+xml">

  <!-- http://opengraphprotocol.org/ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://xiaoliuai.github.io/blog/2014-10-27-writing-blog-using-org-mode-and-jekyll.html">
  <meta property="og:title" content="Writing Blog Using Org-mode and Jekyll - 记往开来">
  

  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>

<link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">


  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

  

</head>

  <body   >
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">记往开来</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a rel="index" href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="https://www.google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:xiaoliuai.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" role="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9" itemscope itemtype="http://schema.org/Blog">
    <meta itemprop="name" content="记往开来" />
    
    <meta itemprop="url" content="http://xiaoliuai.github.io" />
    <article class="hentry" role="article" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2014-10-27T00:00:00+01:00"  data-updated="true" itemprop="datePublished dateCreated">ordinal</time>
        
      </p>
    
    
    <h1 class="entry-title" itemprop="name headline">
        Writing Blog Using Org-mode and Jekyll
        
    </h1>
    
  </header>


<div class="entry-content clearfix" itemprop="articleBody description"><p>
This is my first blog that is generated using org-mode, jekyll and is
published on GitHub.
I made this page following the instructions on <a href="http://orgmode.org/worg/org-tutorials/org-jekyll.html">org-jekyll</a>.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Initialize the first blog</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Install necessary softwares <b>org-mode</b> in <b>emacs</b>, <b>jekyll</b>.</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Note that the built-in org-mode in emacs might be outdated, the best
solution is to remove the built-in org-mode and reinstall it from
the package manager via <code>M-x list-packages</code>. Jekyll can be installed
through <b>RubyGem</b>. On my OSX, the ruby and gem are preinstalled, so
<code>gem install jekyll</code> works for me.
</p>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Initialize the web folder by jekyll.</h3>
<div class="outline-text-3" id="text-1-2">
<p>
As my final goal is posting the blog to GitHub, the working folder
of my blog is <code>xiaoliuai.github.io</code>.
</p>
<div class="org-src-container">

<pre class="src src-bash">jekyll new xiaoliuai.github.io
cd xiaoliuai.github.io
jekyll serve
</pre>
</div>
<p>
Then you can see the portal page by opening <code>localhost:4000</code> in
your web browser.
</p>

<p>
Now I would like to introudce the directory hierarchy of jekyll. Since
I will move to octopress, which is a wrapper of jekyll with different
directory setting, I just introduce the essential part to make the
things work.
</p>
<div class="org-src-container">

<pre class="src src-sh">xiaoliuai.github.io/
-- _posts/
-- _sites/
...
</pre>
</div>
<p>
Two main directories need special attention, that are,
<code>_posts</code> and <code>_sites</code>. The first folder contains the <i>source</i> files,
which are markdown file, html file, etc. as input for jekyll; the
second folder contains the generated static server pages. All the
project should be uploaded to github to be displayed where the
<code>index.html</code> file is the portal of web site.
</p>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">From org-mode to jekyll</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1">Configuration of emacs org setting</h4>
<div class="outline-text-4" id="text-1-3-1">
<div class="org-src-container">

<pre class="src src-elisp"><span style="color: #52676f;">(</span><span style="color: #259185;">"blog-org"</span>
 <span style="color: #5859b7;">:base-directory</span> <span style="color: #259185;">"~/Emacs/org/blog"</span>
 <span style="color: #5859b7;">:base-extension</span> <span style="color: #259185;">"org"</span>

 <span style="color: #5859b7;">:publishing-directory</span> <span style="color: #259185;">"~/WorkSpace/xiaoliuai.github.io/"</span>
 <span style="color: #5859b7;">:recursive</span> t
 <span style="color: #5859b7;">:publishing-function</span> org-html-publish-to-html
 <span style="color: #5859b7;">:headline-levels</span> 4
 <span style="color: #5859b7;">:html-extension</span> <span style="color: #259185;">"html"</span>
 <span style="color: #5859b7;">:body-only</span> t <span style="color: #81908f; font-style: italic;">;; </span><span style="color: #81908f; font-style: italic;">Only export section between &lt;body&gt; &lt;/body&gt;</span>
 <span style="color: #5859b7;">:with-toc</span> nil <span style="color: #81908f; font-style: italic;">;; </span><span style="color: #81908f; font-style: italic;">don't export toc, it clobbers the YAML front matter</span>
 <span style="color: #52676f;">)</span>
<span style="color: #52676f;">(</span><span style="color: #259185;">"blog-static"</span>
 <span style="color: #5859b7;">:base-directory</span> <span style="color: #259185;">"~/Emacs/org/blog"</span>
 <span style="color: #5859b7;">:base-extension</span> <span style="color: #259185;">"css</span><span style="color: #5859b7; font-weight: bold;">\\</span><span style="color: #c61b6e; font-weight: bold;">|</span><span style="color: #259185;">js</span><span style="color: #5859b7; font-weight: bold;">\\</span><span style="color: #c61b6e; font-weight: bold;">|</span><span style="color: #259185;">png</span><span style="color: #5859b7; font-weight: bold;">\\</span><span style="color: #c61b6e; font-weight: bold;">|</span><span style="color: #259185;">jpg</span><span style="color: #5859b7; font-weight: bold;">\\</span><span style="color: #c61b6e; font-weight: bold;">|</span><span style="color: #259185;">gif</span><span style="color: #5859b7; font-weight: bold;">\\</span><span style="color: #c61b6e; font-weight: bold;">|</span><span style="color: #259185;">pdf</span><span style="color: #5859b7; font-weight: bold;">\\</span><span style="color: #c61b6e; font-weight: bold;">|</span><span style="color: #259185;">mp3</span><span style="color: #5859b7; font-weight: bold;">\\</span><span style="color: #c61b6e; font-weight: bold;">|</span><span style="color: #259185;">swf</span><span style="color: #5859b7; font-weight: bold;">\\</span><span style="color: #c61b6e; font-weight: bold;">|</span><span style="color: #259185;">gz</span><span style="color: #5859b7; font-weight: bold;">\\</span><span style="color: #c61b6e; font-weight: bold;">|</span><span style="color: #259185;">txt</span><span style="color: #5859b7; font-weight: bold;">\\</span><span style="color: #c61b6e; font-weight: bold;">|</span><span style="color: #259185;">el"</span>
 <span style="color: #5859b7;">:publishing-directory</span> <span style="color: #259185;">"~/WorkSpace/xiaoliuai.github.io/"</span>
 <span style="color: #5859b7;">:recursive</span> t
 <span style="color: #5859b7;">:publishing-function</span> org-publish-attachment
 <span style="color: #52676f;">)</span>
<span style="color: #52676f;">(</span><span style="color: #259185;">"blog"</span><span style="color: #5859b7;">:components</span> <span style="color: #259185;">(</span><span style="color: #259185;">"blog-org"</span> <span style="color: #259185;">"blog-static"</span><span style="color: #259185;">)</span><span style="color: #52676f;">)</span>
</pre>
</div>
<p>
With this org-mode configuration, you have to create a folder <code>_posts</code>
under the <code>~/Emacs/org/blog</code>, then org-mode will export the folder and
html files into the right place.
</p>
</div>
</div>

<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2">The head inserted into the org file for blog.</h4>
<div class="outline-text-4" id="text-1-3-2">
<div class="org-src-container">

<pre class="src src-org"><span style="color: #81908f; font-style: italic;">#+STARTUP: showall indent</span>
<span style="color: #81908f; font-style: italic;">#+STARTUP: hidestars</span>
<span style="color: #81908f; font-style: italic;">#+BEGIN_HTML</span>
<span style="color: #bd3612;">---</span>
<span style="color: #bd3612;">layout: default</span>
<span style="color: #bd3612;">title: Xiao Liu's First Blog</span>
<span style="color: #bd3612;">excerpt: First blog with org-mode, jekyll.</span>
<span style="color: #bd3612;">categories:</span>
<span style="color: #bd3612;">    - org</span>
<span style="color: #bd3612;">---</span>
<span style="color: #81908f; font-style: italic;">#+END_HTML</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3-3" class="outline-4">
<h4 id="sec-1-3-3">Comments</h4>
<div class="outline-text-4" id="text-1-3-3">
<p>
The two lines with comments form the main differences to ordinary
html exportation. Jekyll will read the body of html files
generated by org-mode and add it&#8217;s own heads to specify the
styles. Org-mode will export the table of contents (TOC) at the
beginning of exported html file, hence mask the YAML Front
Matter. <a href="http://ccom.uprrp.edu/~humberto//blog/2013/11/03/org-jekyll-is-awesome/">Disable the TOC</a> can sovle this problem. However, there
might be other solutions to change the position of TOC.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">Build the server.</h3>
<div class="outline-text-3" id="text-1-4">
<div class="org-src-container">

<pre class="src src-bash">cd xiaoliuai.github.io
jekyll build
jekyll serve
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5">Configuration</h3>
<div class="outline-text-3" id="text-1-5">
<p>
The simplest personalization of the blog site is editting
<code>_config.yml</code> under the project directory. Following the attribute
names in this file, you can easily understand how to specify the blog
name, description, email address, etc.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">There are lisp packages in elpa that provide smart org-jekyll edit functions.</h2>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Future work <code>[0/3]</code></h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li><code>[&#xa0;]</code> This blog is generated manually with many copy paste
operations. The next step after successfully display this blog is
setting automatic tools (YASnippet) to generate the blog files
with date and insert the configured headers.
</li>

<li><code>[&#xa0;]</code> In <a href="http://orgmode.org/worg/org-tutorials/org-jekyll.html">org-jekyll</a>, YAML markup is mentioned many times. I have to
study into it when I have time.
</li>

<li><code>[&#xa0;]</code> Complete this blog into a full manual of org-jekyll-emacs
relative settings.
</li>
</ul>


<p>
<!-- more -->
</p>
</div>
</div>
</div>


      <footer>
        <p class="meta text-muted">
          
  

<span class="glyphicon glyphicon-user"></span> <span class="byline author vcard" itemprop="author" itemscope itemtype="http://schema.org/Person">Posted by <span class="fn" itemprop="name">Xiao Liu</span></span>

          












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2014-10-27T00:00:00+01:00"  data-updated="true" itemprop="datePublished dateCreated">ordinal</time>
          

<span class="glyphicon glyphicon-tags"></span>&nbsp;
<span class="categories">
  
    <a class='category' href='/blog/categories/geek/'>geek</a>
  
</span>


        </p>
        
          <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://xiaoliuai.github.io/blog/2014-10-27-writing-blog-using-org-mode-and-jekyll.html" data-via="" data-counturl="http://xiaoliuai.github.io/blog/2014-10-27-writing-blog-using-org-mode-and-jekyll.html" >Tweet</a>
  
  
  
</div>

        
        
          <ul class="meta text-muted pager">
            
            <li class="previous"><a href="/blog/2014-10-27-org-mode-and-octopress.html" title="Previous Post: Org-mode and Octopress">&laquo; Org-mode and Octopress</a></li>
            
            
          </ul>
        
      </footer>
    </article>
    
  </div>

  
  <aside class="sidebar col-md-3">
    
      <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item active" href="/blog/2014-10-27-writing-blog-using-org-mode-and-jekyll.html">Writing Blog Using Org-mode and Jekyll</a>
    
    <a class="list-group-item " href="/blog/2014-10-27-org-mode-and-octopress.html">Org-mode and Octopress</a>
    
  </div>
</section>

<section class="panel panel-default clearfix">
  <div class="panel-heading">
      <h3 class="panel-title">GitHub Repos</h3>
  </div>
  <div class="list-group" id="gh_repos">
    <p class="loading">Status updating&#8230;</p>
  </div>
  
    <div class="gh-profile-link pull-right text-muted">
      <a href="https://github.com/xiaoliuai">@xiaoliuai</a> on GitHub
    </div>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'xiaoliuai',
            count: 2,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





<section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Categories</h3>
  </div>
  <div class="list-group">
    
    
    <a class="list-group-item " href="/blog/categories/geek/index.html">
        <span class="badge">2</span>
        geek
      </a>
    
  </div>
</section>
<section class="panel panel-default">
        <div class="panel-heading">
                <h2 class="panel-title">标签列表</h2>
        </div>
        <div class="list-group">
                        <ul class="tag-cloud">
                                <a style="font-size: 210%" href="/tags/blog/">blog</a>
<a style="font-size: 210%" href="/tags/emacs/">emacs</a>
<a style="font-size: 90%" href="/tags/jekell/">jekell</a>
<a style="font-size: 90%" href="/tags/octopress/">octopress</a>
<a style="font-size: 210%" href="/tags/org/">org</a>

                        </ul>
        </div>
</section>

    
  </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - Xiao Liu<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>


  </body>
</html>
