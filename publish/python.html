<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">零散随笔（需要整理）</a></li>
<li><a href="#sec-2">单元测试</a></li>
<li><a href="#sec-3">线程，进程</a></li>
<li><a href="#sec-4">文档生成</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">零散随笔（需要整理）</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>路径处理和文件操作。os.getcwd()可以得出运行目录的绝对路径，
<code>__file__</code> 是当前python脚本文件的相对路径，os.path.dirname()接受包
含文件路径的字符串，返回目录路径。注意，这里文件路径其实是指不以
‘/'结尾的字符串。也就是说，即使这个路径是一个目录，如果没有以'/'结
尾的话，也会把最后的目录名去掉这个函数实际上就是把最后一个'/'字符后
的字符串全部删除。os.rename和shutil.move都可以用来移动文件。在结巴
分词的cache实现中，他们先生成一个随机命名的文档，然后再改名为目标文
档。同时他们在Windows下用move，在*nix下用rename。
</li>
<li>logging模块。建立logger，用来统一管理输出信息。为使用print调试的增
强版。
</li>
<li>tempfile模块。建立临时文件cache。用os.path.getmtime去比较cache文件
和数据文件的修改时间来决定是否重新建立cache。
</li>
<li>threading模块。
</li>
<li>marshal模块。跟pickle类似，但是只可以处理简单类型。pickle可以处理递
归引用的对象
</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #859900;">import</span> threading

<span style="color: #6c71c4;">LOCK</span> = threading.RLock()

<span style="color: #859900;">with</span> LOCK:
    <span style="color: #93a1a1; font-style: italic;"># </span><span style="color: #93a1a1; font-style: italic;">do something.</span>
</pre>
</div>
<ul class="org-ul">
<li><code>with ... as ...</code> 语句的作用在于自动释放对象。如果实现一个类里面有
<code>__enter__</code> 和 <code>__exit__</code> 函数的话，这个语句会先实例化对象，然后调
用 <code>__enter__</code> 函数并返回这个函数的返回内容（ <b>不是这个类的对象</b>
），最后调用 <code>__exit__</code> 来释放对象。可以在 <code>__enter__</code> 中加入异常
处理代码，使得异常处理和自动对象释放无缝衔接。
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">单元测试</h2>
<div class="outline-text-2" id="text-2">
<p>
python -m unittest discover
</p>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">线程，进程</h2>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">文档生成</h2>
<div class="outline-text-2" id="text-4">
<p>
sphinx
</p>
</div>
</div>
